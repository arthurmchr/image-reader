{"version":3,"file":"generated.js","sources":["node_modules/browser-pack/_prelude.js","src/ImageReader.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","ImageReader","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"arguments","images","autoplay","el","h","fps","_","from","p","loop","m","c","onComplete","onRepeat","v","d","onRepeatComplete","y","k","repeat","C","R","retina","w","P","reverse","b","T","to","x","_classCallCheck","_images","_elTarget","Image","_currentRepeat","_from","_current","_to","_isPlaying","_repeat","_interval","_then","_onComplete","_onRepeat","_onRepeatComplete","_side","M","j","Math","max","min","Object","assign","style","width","naturalWidth","height","naturalHeight","update","_createClass","key","value","src","performance","now","draw","_currentPack","parentNode","remove","get","set"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export default class ImageReader {\n\n\tconstructor({\n\t\timages = null,\n\n\t\tautoplay = true,\n\t\tel = null,\n\t\tfps = 30,\n\t\tfrom = 0,\n\t\tloop = false,\n\t\tonComplete = null,\n\t\tonRepeat = null,\n\t\tonRepeatComplete = null,\n\t\trepeat = 0,\n\t\tretina = false,\n\t\treverse = null,\n\t\tto = null\n\t} = {}) {\n\n\t\tif (!images) throw new Error('images parameter can not be null');\n\t\tif (!images.length) throw new Error('images parameter must be an array');\n\n\t\tthis._images = images;\n\n\t\tthis._elTarget = el || new Image();\n\n\t\tthis._currentRepeat = 0;\n\n\t\tthis._from = from;\n\t\tthis._current = from;\n\t\tthis._to = to;\n\n\t\tthis._isPlaying = autoplay;\n\t\tthis._repeat = loop ? -1 : repeat;\n\n\t\tthis._interval = 1000 / fps;\n\t\tthis._then = null;\n\n\t\tthis._onComplete = onComplete;\n\t\tthis._onRepeat = onRepeat;\n\t\tthis._onRepeatComplete = onRepeatComplete;\n\n\t\tif (this._to === null) this._to = this._images.length - 1;\n\n\t\tthis._side = reverse || this._from > this._to ? -1 : 1;\n\n\t\tif (this._side === -1 && this._from < this._to) {\n\n\t\t\tconst tmpFrom = this._from;\n\t\t\tconst tmpTo = this._to;\n\n\t\t\tthis._from = Math.max(tmpFrom, tmpTo);\n\t\t\tthis._to = Math.min(tmpFrom, tmpTo);\n\t\t}\n\n\t\tif (!el) {\n\n\t\t\tObject.assign(this._elTarget.style, {\n\t\t\t\twidth: `${this._images[0].naturalWidth / (retina ? 2 : 1)}px`,\n\t\t\t\theight: `${this._images[0].naturalHeight / (retina ? 2 : 1)}px`\n\t\t\t});\n\t\t}\n\n\t\tthis.update(true);\n\t}\n\n\tdraw() {\n\n\t\tthis._elTarget.src = this._images[this._current];\n\t}\n\n\tupdate(force = false) {\n\n\t\tif (!this._isPlaying && !force) return;\n\n\t\tconst now = performance.now();\n\t\tconst delta = now - this._then;\n\n\t\tif (delta < this._interval && !force) return;\n\n\t\tthis._then = now - delta % this._interval;\n\n\t\tthis.draw();\n\n\t\tif (this._current === this._to) {\n\n\t\t\tif (this._repeat) {\n\n\t\t\t\tthis._currentRepeat++;\n\t\t\t\tthis._current = this._from;\n\t\t\t\tthis._currentPack = 0;\n\n\t\t\t\tif (this._onRepeat) this._onRepeat();\n\n\t\t\t\tif (this._repeat > 0 && this._currentRepeat > this._repeat) {\n\n\t\t\t\t\tthis._isPlaying = false;\n\n\t\t\t\t\tif (this._onRepeatComplete) this._onRepeatComplete();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\tthis._isPlaying = false;\n\n\t\t\t\tif (this._onComplete) this._onComplete();\n\t\t\t}\n\t\t}\n\t\telse this._current += this._side;\n\t}\n\n\tplay() {\n\n\t\tthis._isPlaying = true;\n\t}\n\n\tpause() {\n\n\t\tthis._isPlaying = false;\n\t}\n\n\tstop() {\n\n\t\tthis._isPlaying = false;\n\t\tthis._current = this._from;\n\t}\n\n\treverse(force = null) {\n\n\t\tif (force !== null) this._side = force ? 1 : -1;\n\t\telse this._side = this._side === 1 ? -1 : 1;\n\n\t\tconst tmpFrom = this._from;\n\t\tconst tmpTo = this._to;\n\n\t\tthis._side === 1 ? this._from = Math.min(tmpFrom, tmpTo) : Math.max(tmpFrom, tmpTo);\n\t\tthis._side === 1 ? this._to = Math.max(tmpFrom, tmpTo) : Math.min(tmpFrom, tmpTo);\n\t}\n\n\tgoFromTo(from, to) {\n\n\t\tif (from >= 0) this._from = from;\n\n\t\tif (to >= 0) this._to = to;\n\n\t\tthis._current = this._from;\n\t\tthis._side = from > to ? -1 : 1;\n\t}\n\n\tgoToAndStop(frame) {\n\n\t\tthis._current = frame;\n\t\tthis._isPlaying = false;\n\t}\n\n\tdestroy() {\n\n\t\tthis._isPlaying = false;\n\t\tthis._elTarget.parentNode.remove(this._elTarget);\n\t}\n\n\tget el() {\n\n\t\treturn this._elTarget;\n\t}\n\n\tset fps(nbr) {\n\n\t\tthis._interval = 1000 / nbr;\n\t}\n\n\tset loop(val) {\n\n\t\tif (val) this._repeat = -1;\n\t\telse if (this._repeat === -1) this._repeat = 0;\n\t}\n\n\tset repeat(nbr) {\n\n\t\tthis._repeat = nbr;\n\t\tthis._currentRepeat = 0;\n\t}\n\n\tset onComplete(fn) {\n\n\t\tthis._onComplete = fn;\n\t}\n\n\tset onRepeat(fn) {\n\n\t\tthis._onRepeat = fn;\n\t}\n\n\tset onRepeatComplete(fn) {\n\n\t\tthis._onRepeatComplete = fn;\n\t}\n}\n"]}