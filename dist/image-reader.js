!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ImageReader=e()}}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[o]={exports:{}};t[o][0].call(l.exports,function(e){var i=t[o][1][e];return r(i?i:e)},l,l.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.images,r=void 0===i?null:i,s=t.autoplay,o=void 0===s?!0:s,a=t.el,h=void 0===a?null:a,u=t.fps,l=void 0===u?30:u,_=t.from,f=void 0===_?0:_,p=t.loop,m=void 0===p?!1:p,c=t.onComplete,d=void 0===c?null:c,g=t.onRepeat,v=void 0===g?null:g,y=t.onRepeatComplete,k=void 0===y?null:y,w=t.repeat,R=void 0===w?0:w,C=t.retina,b=void 0===C?!1:C,P=t.reverse,x=void 0===P?null:P,T=t.to,M=void 0===T?null:T;if(n(this,e),!r)throw new Error("images parameter can not be null");if(!r.length)throw new Error("images parameter must be an array");if(this._images=r,this._elTarget=h||new Image,this._currentRepeat=0,this._from=f,this._current=f,this._to=M,this._isPlaying=o,this._repeat=m?-1:R,this._interval=1e3/l,this._then=null,this._onComplete=d,this._onRepeat=v,this._onRepeatComplete=k,null===this._to&&(this._to=this._images.length-1),this._side=x||this._from>this._to?-1:1,-1===this._side&&this._from<this._to){var O=this._from,E=this._to;this._from=Math.max(O,E),this._to=Math.min(O,E)}h||Object.assign(this._elTarget.style,{width:this._images[0].naturalWidth/(b?2:1)+"px",height:this._images[0].naturalHeight/(b?2:1)+"px"}),this.update(!0)}return r(e,[{key:"draw",value:function(){this._elTarget.src=this._images[this._current]}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;if(this._isPlaying||e){var t=performance.now(),i=t-this._then;i<this._interval&&!e||(this._then=t-i%this._interval,this.draw(),this._current===this._to?this._repeat?(this._currentRepeat++,this._current=this._from,this._currentPack=0,this._onRepeat&&this._onRepeat(),this._repeat>0&&this._currentRepeat>this._repeat&&(this._isPlaying=!1,this._onRepeatComplete&&this._onRepeatComplete())):(this._isPlaying=!1,this._onComplete&&this._onComplete()):this._current+=this._side)}}},{key:"play",value:function(){this._isPlaying=!0}},{key:"pause",value:function(){this._isPlaying=!1}},{key:"stop",value:function(){this._isPlaying=!1,this._current=this._from}},{key:"reverse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?this._side=e?1:-1:this._side=1===this._side?-1:1;var t=this._from,i=this._to;1===this._side?this._from=Math.min(t,i):Math.max(t,i),1===this._side?this._to=Math.max(t,i):Math.min(t,i)}},{key:"goFromTo",value:function(e,t){e>=0&&(this._from=e),t>=0&&(this._to=t),this._current=this._from,this._side=e>t?-1:1}},{key:"goToAndStop",value:function(e){this._current=e,this._isPlaying=!1}},{key:"destroy",value:function(){this._isPlaying=!1,this._elTarget.parentNode.remove(this._elTarget)}},{key:"el",get:function(){return this._elTarget}},{key:"fps",set:function(e){this._interval=1e3/e}},{key:"loop",set:function(e){e?this._repeat=-1:-1===this._repeat&&(this._repeat=0)}},{key:"repeat",set:function(e){this._repeat=e,this._currentRepeat=0}},{key:"onComplete",set:function(e){this._onComplete=e}},{key:"onRepeat",set:function(e){this._onRepeat=e}},{key:"onRepeatComplete",set:function(e){this._onRepeatComplete=e}}]),e}();i["default"]=s},{}]},{},[1])(1)});
//# sourceMappingURL=image-reader.js.map