!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ImageReader=e()}}(function(){return function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[o]={exports:{}};t[o][0].call(l.exports,function(e){var i=t[o][1][e];return r(i?i:e)},l,l.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.autoplay,s=void 0===r?!0:r,o=i.el,a=void 0===o?null:o,h=i.fps,u=void 0===h?30:h,l=i.from,_=void 0===l?0:l,f=i.loop,p=void 0===f?!1:f,m=i.onComplete,c=void 0===m?null:m,d=i.onRepeat,g=void 0===d?null:d,v=i.onRepeatComplete,y=void 0===v?null:v,k=i.repeat,w=void 0===k?0:k,R=i.retina,C=void 0===R?!1:R,P=i.reverse,b=void 0===P?null:P,x=i.to,T=void 0===x?null:x;if(n(this,e),!t)throw new Error("images parameter can not be null");if(!t.length)throw new Error("images parameter must be an array");if(this._images=t,this._elTarget=a||new Image,this._currentRepeat=0,this._from=_,this._current=_,this._to=T,this._isPlaying=s,this._repeat=p?-1:w,this._interval=1e3/u,this._then=null,this._onComplete=c,this._onRepeat=g,this._onRepeatComplete=y,null===this._to&&(this._to=this._images.length-1),this._side=b||this._from>this._to?-1:1,-1===this._side&&this._from<this._to){var M=this._from,O=this._to;this._from=Math.max(M,O),this._to=Math.min(M,O)}a||Object.assign(this._elTarget.style,{width:this._images[0].naturalWidth/(C?2:1)+"px",height:this._images[0].naturalHeight/(C?2:1)+"px"}),this.update(!0)}return r(e,[{key:"draw",value:function(){this._elTarget.src=this._images[this._current]}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;if(this._isPlaying||e){var t=performance.now(),i=t-this._then;i<this._interval&&!e||(this._then=t-i%this._interval,this.draw(),this._current===this._to?this._repeat?(this._currentRepeat++,this._current=this._from,this._currentPack=0,this._onRepeat&&this._onRepeat(),this._repeat>0&&this._currentRepeat>this._repeat&&(this._isPlaying=!1,this._onRepeatComplete&&this._onRepeatComplete())):(this._isPlaying=!1,this._onComplete&&this._onComplete()):this._current+=this._side)}}},{key:"play",value:function(){this._isPlaying=!0}},{key:"pause",value:function(){this._isPlaying=!1}},{key:"stop",value:function(){this._isPlaying=!1,this._current=this._from}},{key:"reverse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?this._side=e?1:-1:this._side=1===this._side?-1:1;var t=this._from,i=this._to;1===this._side?this._from=Math.min(t,i):Math.max(t,i),1===this._side?this._to=Math.max(t,i):Math.min(t,i)}},{key:"goFromTo",value:function(e,t){e>=0&&(this._from=e),t>=0&&(this._to=t),this._current=this._from,this._side=e>t?-1:1}},{key:"goToAndPlay",value:function(e){this._current=e,this._isPlaying=!0}},{key:"goToAndStop",value:function(e){this._current=e,this._isPlaying=!1}},{key:"destroy",value:function(){this._isPlaying=!1,this._elTarget.parentNode.remove(this._elTarget)}},{key:"el",get:function(){return this._elTarget}},{key:"fps",set:function(e){this._interval=1e3/e}},{key:"loop",set:function(e){e?this._repeat=-1:-1===this._repeat&&(this._repeat=0)}},{key:"repeat",set:function(e){this._repeat=e,this._currentRepeat=0}},{key:"onComplete",set:function(e){this._onComplete=e}},{key:"onRepeat",set:function(e){this._onRepeat=e}},{key:"onRepeatComplete",set:function(e){this._onRepeatComplete=e}}]),e}();i["default"]=s},{}]},{},[1])(1)});
//# sourceMappingURL=image-reader.js.map